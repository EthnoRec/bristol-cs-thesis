%!TEX encoding = ISO-8859-1

\documentclass[%
10pt,%
showtrims%
]{memoir}

% metadata
\title{Ethnogeographic Recognition Through Facial Feature Classification}
\author{Lee Archer}
\date{2014 - 2015}

% packages:
\XeTeXinputencoding latin1
\usepackage[latin1]{inputenx}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[square]{natbib}\citeindextrue
\usepackage{graphicx}
\usepackage{color}
\usepackage{tikz,pgf}
\usepackage{amsmath,amssymb,theorem}
\usepackage{url}
\usepackage{listings}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{xspace}
\usepackage{cancel}
\usepackage{subfig}
\usepackage[printonlyused,withpage]{acronym}
\usepackage{rotating}
\usepackage{cite}
\usepackage{array}
\usepackage[htt]{hyphenat}
\usepackage{hyperref}
\usepackage{fontspec}

% pdf
\hypersetup{bookmarks, colorlinks, breaklinks, pdftitle={Ethnogeographic 
    Recognition Through Facial Feature Classification},pdfauthor={Lee Archer},
  linkcolor=black,citecolor=black,filecolor=black,urlcolor=black}

% other metadata
\newcommand{\polimi}{University of Bristol\xspace}
\newcommand{\dei}{Department of Computer Science\xspace}
\newcommand{\address}{Woodland Road, Clifton, Bristol BS8 1UB\xspace}
\newcommand{\POLIMI}{\uppercase{\polimi}}
\newcommand{\DEI}{\uppercase{\dei}}

% fonts
\newcommand{\XeTeX}{{\normalsize X\textsubscript{\footnotesize E}T\textsubscript{\footnotesize E}X}\xspace}
\newcommand{\nfont}{Adobe Caslon Pro}
\newcommand{\ttfont}{Envy Code R}
\newcommand{\sffont}{Oregon LDO}
\newcommand{\commodorefont}{Commodore 64 Pixeled}
\defaultfontfeatures{Mapping=tex-text}
\setromanfont[Ligatures={Common}]{\nfont}
\setmonofont[Scale=0.8]{\ttfont}
\setsansfont[Scale=0.9]{\sffont}

%acronyms
\renewcommand*{\acfsfont}[1]{{\normalsize\upshape #1}}
\renewcommand*{\acffont}[1]{{\normalsize\itshape #1}}
\renewcommand{\vec}[1]{\mathbf{#1}}


% hypenations
\hyphenation{a-no-ma-lous a-no-ma-ly lib-a-no-ma-ly web-a-no-ma-ly group-ed fuzz-ing a-mo-unts bre-ach-es well-trai-ned trai-ned data-set data-sets a-gain-st}

% graphics
\usetikzlibrary{patterns,shadows,automata,calc,arrows,shapes,backgrounds,fit,trees}
\definecolor{c64}{rgb}{.063,0,.612}
\definecolor{c64light}{rgb}{.451,.451,1}

% layout:
% w = 297mm
% P =~ sqrt(2)
% s = 297/8 (spine)
% t = 297/8 (top)
% e = 297/4 (fore-edge)
% f = 297/4 (foot)
%\setstocksize{24cm}{17cm}
\settrimmedsize{24cm}{17cm}{*}
\setlrmarginsandblock{37.125mm}{*}{*}
\setulmarginsandblock{37.125mm}{*}{*}
\setmarginnotes{17pt}{51pt}{\onelineskip}
\setheadfoot{\onelineskip}{2\onelineskip}
\setheaderspaces{*}{2\onelineskip}{*}
\setlength{\trimtop}{0pt}
\setlength{\trimedge}{\stockwidth}
\addtolength{\trimedge}{-\paperwidth}
\checkandfixthelayout

% chapter style:
\makeatletter
\makechapterstyle{thesis}{%
  \renewcommand{\chapternamenum}{}
  \setlength{\beforechapskip}{0pt}
  \setlength{\midchapskip}{0pt}
  \setlength{\afterchapskip}{0pt}
  \renewcommand{\chapnamefont}{\LARGE}
  \renewcommand{\chapnumfont}{\chapnamefont}
  \renewcommand{\chaptitlefont}{\chapnamefont}
  \renewcommand{\printchapternum}{}
  \renewcommand{\afterchapternum}{}
  \renewcommand{\printchaptername}{}
  \renewcommand{\afterchaptertitle}{\chapnumfont\hfill\thechapter\\\vspace*{-.3cm}\hrulefill\vspace*{6cm}\\}
}
\makeatother

% titles:
\renewcommand{\maketitlehooka}{%
  \centering
  \includegraphics[width=6cm]{figures/bristol-logo}\\[.5cm]
  \POLIMI\\
  \emph{\dei}\\[.2cm]
  \par
  \hrulefill
  \vfill}
\renewcommand{\maketitlehookb}{\vfill}
\renewcommand{\maketitlehookc}{%
  \vfill
  \begin{flushleft}
    Tutor:\\
    \textbf{Prof. Peter Flach}\\[.3cm]
    Supervisor:\\
    \textbf{Dr. Tilo Burghardt}
  \end{flushleft}
  \vfill}
\preauthor{\begin{flushright}Bachelor of Science Thesis of:\\\bfseries}
\postauthor{\end{flushright}}

% divisions:
\maxsecnumdepth{subsubsection}
\maxtocdepth{subsection}

\makeatletter 
\renewcommand{\fnum@figure}{\textsc{\figurename~\thefigure}}
\makeatother

% math
\DeclareMathOperator{\Score}{Score}
\DeclareMathOperator{\stdev}{stdev}
\DeclareMathOperator{\BMU}{BMU}
\newcommand{\mtok}{m^{\left(\text{tok}\right)}}
\newcommand{\mint}{m^{\left(\text{int}\right)}}
\newcommand{\mdoc}{m^{\left(\text{doc}\right)}}
\newcommand{\msess}{m^{\left(\text{sess}\right)}}
\newcommand{\mlen}{m^{\left(\text{len}\right)}}
\newcommand{\mchar}{m^{\left(\text{char}\right)}}
\newcommand{\mstruct}{m^{\left(\text{struct}\right)}}
\newcommand{\kb}{\mathcal{C}}

\newcommand{\qed}{\blacksquare}

\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{prop}[thm]{Proposition}
\newtheorem{proof}{Proof}[section]

\theorembodyfont{\rmfamily}
\newtheorem{definition}{Definition}[section]
\newtheorem{example}{Example}[section]

\newtheorem{rem}{Remark}
\newtheorem{note}{Note}[section]

\makeatletter
\newif\if@borderstar
\def\bordermatrix{\@ifnextchar*{%
    \@borderstartrue\@bordermatrix@i}{\@borderstarfalse\@bordermatrix@i*}%
}
\def\@bordermatrix@i*{\@ifnextchar[{%
    \@bordermatrix@ii}{\@bordermatrix@ii[()]}
}
\def\@bordermatrix@ii[#1]#2{%
  \begingroup
  \m@th\@tempdima8.75\p@\setbox\z@\vbox{%
    \def\cr{\crcr\noalign{\kern 2\p@\global\let\cr\endline }}%
    \ialign {$##$\hfil\kern 2\p@\kern\@tempdima & \thinspace%
      \hfil $##$\hfil && \quad\hfil $##$\hfil\crcr\omit\strut%
      \hfil\crcr\noalign{\kern -\baselineskip}#2\crcr\omit%
      \strut\cr}}%
  \setbox\tw@\vbox{\unvcopy\z@\global\setbox\@ne\lastbox}%
  \setbox\tw@\hbox{\unhbox\@ne\unskip\global\setbox\@ne\lastbox}%
  \setbox\tw@\hbox{%
    $\kern\wd\@ne\kern -\@tempdima\left\@firstoftwo#1%
      \if@borderstar\kern2pt\else\kern -\wd\@ne\fi%
      \global\setbox\@ne\vbox{\box\@ne\if@borderstar\else\kern 2\p@\fi}%
      \vcenter{\if@borderstar\else\kern -\ht\@ne\fi%
        \unvbox\z@\kern-\if@borderstar2\fi\baselineskip}%
      \if@borderstar\kern-2\@tempdima\kern2\p@\else\,\fi\right\@secondoftwo#1 $%
  }\null \;\vbox{\kern\ht\@ne\box\tw@}%
  \endgroup
}
\makeatother

% code:
\lstset{
  basicstyle=\ttfamily\small,
  basewidth=0.55em,
  showstringspaces=false,
  numbers=left,
  numberstyle=\tiny,
  numbersep=2.5pt,
  keywordstyle=\bfseries\ttfamily,
  breaklines=true
}
\lstnewenvironment{pseudoc}{\lstset{frame=lines,language=C,mathescape=true}}{}
\lstnewenvironment{logs}{\lstset{frame=lines,basicstyle=\footnotesize\ttfamily,numbers=none}}{}
\lstnewenvironment{cc}{\lstset{frame=lines,language=C}}{}
\lstnewenvironment{c64}{\lstset{backgroundcolor=\color{c64},basewidth=0.65em,basicstyle=\commodoreface\color{c64light},numbers=none,framerule=10pt,rulecolor=\color{c64light},frame=tb,framexbottommargin=30pt}}{}
\lstnewenvironment{html}{\lstset{frame=lines,language=html,numbers=none}}{}
\lstnewenvironment{pseudo}{\lstset{frame=lines,mathescape=true,morekeywords={learn_string_domain, save_model}}}{}

\lstnewenvironment{pseudoctiny}{\lstset{language=C,mathescape=true,basicstyle=\tiny\sffamily}}{}
\lstnewenvironment{cctiny}{\lstset{language=C,basicstyle=\tiny\sffamily}}{}
\lstnewenvironment{pseudotiny}{\lstset{mathescape=true,basicstyle=\tiny\sffamily}}{}

% definitions:
\newcommand{\SSAADE}{S\textsuperscript{2}A\textsuperscript{2}DE\xspace}
\newcommand{\SyscallAnomaly}{\index{SyscallAnomaly}\textsf{Sys\-call\-A\-no\-ma\-ly}\xspace}
\newcommand{\LibAnomaly}{\index{LibAnomaly}\textsf{Lib\-A\-no\-ma\-ly}\xspace}
\newcommand{\webanomaly}{\index{webanomaly}\textsf{web\-a\-no\-ma\-ly}\xspace}
\newcommand{\masibty}{\index{Masibty}\textsf{Masibty}\xspace}

\makeindex

\begin{document}

\selectlanguage{english}

\begin{titlingpage}
  \maketitle
\end{titlingpage}

\frontmatter

\include{declaration}

\cleartoverso

\include{abstract}

\cleartoverso

\selectlanguage{english}

\cleartoverso

\tableofcontents*

\mainmatter

\chapterstyle{thesis}

\pagestyle{Ruled}

\include{introduction}

\let\stdsection\section
\renewcommand\section{\newpage\stdsection}

\include{background}
\include{spec}
\include{impl}
%\include{host}
%\include{web}
%\include{correlation}
%\include{conclusions}

\backmatter

\chapterstyle{default}

\bibliographystyle{plainnat}
\bibliography{bib/all}

\printindex

\include{acronyms}

%\cleartoverso

%\listoffigures

%\cleartoverso

%\listoftables

%\cleartoverso

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
